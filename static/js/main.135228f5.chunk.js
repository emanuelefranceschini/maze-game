(this.webpackJsonpsecondtest=this.webpackJsonpsecondtest||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var i,r,c,o,l=n(1),s=n(6),a=n.n(s),u=(n(12),n(7)),d=n(2),f=n.p+"static/media/impact.fc2d7cbc.ogg",h=n.p+"static/media/exit.4f7c36d6.ogg",b=n.p+"static/media/collectables.be9f57f3.ogg",j=n(0),m=20,x=[],y=0,O=[],p=[],g=[[10,10]],v=[{time:200,mode:"Easy",size:400},{time:100,mode:"Medium",size:600},{time:65,mode:"Hard",size:800}],z=function(){var e,t,n=Object(l.useState)(!1),s=Object(d.a)(n,2),a=s[0],z=s[1],w=Object(l.useState)({time:"----",mode:"Easy",size:400}),k=Object(d.a)(w,2),T=k[0],C=k[1],M=Object(l.useState)(""),S=Object(d.a)(M,2),P=S[0],E=S[1],H=Object(l.useState)(""),R=Object(d.a)(H,2),A=R[0],N=R[1],W=Object(l.useRef)(null),I=Object(l.useRef)(null),D=Object(l.useRef)(null),Y=Object(l.useRef)(null),G=Object(l.useRef)(null);Object(l.useEffect)((function(){L()}),[T]),Object(l.useEffect)((function(){r>0?(r--,setTimeout((function(){E(r)}),1e3)):0===r&&N("lose")}),[P]);var L=function(){e=W.current.getContext("2d"),t=I.current.getContext("2d"),W.current.width=W.current.height=T.size,I.current.width=I.current.height=T.size,W.current.style.left=I.current.style.left="".concat((window.innerWidth-T.size)/2,"px"),t.fillStyle="black",t.fillRect(0,0,T.size,T.size),O.splice(0,O.length),p.splice(0,p.length),c=10,o=10,i=W.current.width/m,K(),B(),F(),setInterval((function(){q(),Z()}),25),Q(),U()},J=function(){z(!0)},K=function(){for(var e=m;e<=W.current.height;e+=m)for(var t=m;t<=W.current.width;t+=m)O.push({x:t,y:e,top:!0,right:!0,bottom:!0,left:!0,beenHere:!1})},B=function(){var e=O[0];for(O[0].beenHere=!0;O.some((function(e){return!1===e.beenHere}));){var t=O[O.indexOf(e)-i],n=O[O.indexOf(e)+1],r=O[O.indexOf(e)+i],c=O[O.indexOf(e)-1],o=[];void 0!==t&&!1===t.beenHere&&o.push(t),void 0!==n&&!1===n.beenHere&&(O.indexOf(e)+1)%i!==0&&o.push(n),void 0!==r&&!1===r.beenHere&&o.push(r),void 0!==c&&!1===c.beenHere&&O.indexOf(e)%i!==0&&o.push(c);var l=Math.floor(Math.random()*o.length),s=O.indexOf(e)-O.indexOf(o[l]);0!==o.length?(1===s&&(e.left=!1,o[l].right=!1),-1===s&&(e.right=!1,o[l].left=!1),s===i&&(e.top=!1,o[l].bottom=!1),s===-i&&(e.bottom=!1,o[l].top=!1),p.push(e),(e=o[l]).beenHere=!0):(p.pop(),e=p[p.length-1])}},F=function(){O.forEach((function(t){e.beginPath(),e.moveTo(t.x,t.y),t.bottom&&e.lineTo(t.x-m,t.y),e.moveTo(t.x-m,t.y),t.left&&e.lineTo(t.x-m,t.y-m),e.moveTo(t.x-m,t.y-m),t.top&&e.lineTo(t.x,t.y-m),e.moveTo(t.x,t.y-m),t.right&&e.lineTo(t.x,t.y),e.strokeStyle="red",e.stroke()}))},q=function(){e.clearRect(g[g.length-1][0]-5,g[g.length-1][1]-5,10,10),g.push([c,o]),e.beginPath(),e.arc(c,o,5,0,2*Math.PI),e.fillStyle="green",e.fill()},Q=function(){e.beginPath(),e.arc(T.size-10,T.size-10,5,0,2*Math.PI),e.fillStyle="red",e.fill()},U=function(){var t=O.filter((function(e){return e.y>=T.size-100&&e.x<=T.size/2})),n=O.filter((function(e){return e.y<T.size-100&&e.y>100&&e.x<=T.size})),i=O.filter((function(e){return e.y<=100&&e.x>=T.size/2})),r=t[Math.floor(Math.random()*t.length)],c=n[Math.floor(Math.random()*n.length)],o=i[Math.floor(Math.random()*i.length)];(x=[r,c,o]).forEach((function(t){e.beginPath(),e.arc(t.x-10,t.y-10,5,0,2*Math.PI),e.fillStyle="white",e.fill()}))},V=Object(l.useCallback)((function(e){var t=O.filter((function(e){return c+10===e.x&&o+10===e.y})),n=Object(d.a)(t,1)[0];37===e.keyCode||65===e.keyCode?n.left?D.current.play():c-=20:38===e.keyCode||87===e.keyCode?n.top?D.current.play():o-=20:39===e.keyCode||68===e.keyCode?n.right?D.current.play():c+=20:40===e.keyCode||83===e.keyCode?n.bottom?D.current.play():o+=20:alert("Please use Arrow or W A S D Keys"),x.some((function(e){return e.x===c+10&&e.y===o+10}))&&(x=x.filter((function(e){return e.x!==c+10&&e.y!==o+10})),G.current.play(),r+=25),c===T.size-10&&o===T.size-10&&(window.removeEventListener("keydown",V),Y.current.play(),y=r,r=0)}),[]),X=function(){window.removeEventListener("keydown",V),window.addEventListener("keydown",V)},Z=function(){t.globalCompositeOperation="source-over",t.fillStyle="black",t.fillRect(0,0,T.size,T.size),t.globalCompositeOperation="destination-out",t.beginPath(),t.arc(c,o,75,0,2*Math.PI),t.fill()};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Hell Maze"}),Object(j.jsxs)("ul",{style:{maxWidth:"".concat((window.innerWidth-T.size)/2-10,"px")},children:[Object(j.jsxs)("li",{className:"time",children:["Time: ",P]}),Object(j.jsxs)("li",{className:"score",children:["Score: ",P]}),Object(j.jsx)("br",{}),Object(j.jsx)("li",{className:"user",children:"You Are The Green Dot"}),Object(j.jsx)("li",{className:"exit",children:"Reach The Hidden Red Dot To Exit The Maze And Win"}),Object(j.jsx)("li",{className:"collectables",children:"Collectables (+25 Time and Score) Are The White Dots"}),Object(j.jsx)("li",{children:"Move with Arrow or W A S D Keys"})]}),Object(j.jsx)("canvas",{ref:W,id:"maze"}),Object(j.jsx)("canvas",{ref:I,id:"camera"}),!a&&""===P&&Object(j.jsx)("button",{onClick:function(){return J()},className:"play-btn",children:"Play"}),a&&Object(j.jsx)("div",{children:v.map((function(e,t){return Object(j.jsx)("button",{onClick:function(){!function(e){var t=v.filter((function(t){return t.size===e}));z(!1),C.apply(void 0,Object(u.a)(t)),r=t[0].time,E(r),X()}(e.size)},className:"mode-btn",children:e.mode},t)}))}),!a&&0===P&&Object(j.jsxs)("div",{className:"endGame",children:[Object(j.jsx)("p",{children:"lose"===A?"Game Over!":"You Win!"}),Object(j.jsxs)("p",{children:["Your Score: ",y,Object(j.jsx)("br",{}),"Your Time: ",T.time-y+75-25*x.length]}),Object(j.jsx)("button",{onClick:function(){J(),L()},children:"lose"===A?"Try again":"Play Again"})]}),Object(j.jsx)("audio",{ref:D,src:f}),Object(j.jsx)("audio",{ref:Y,src:h}),Object(j.jsx)("audio",{ref:G,src:b})]})};a.a.render(Object(j.jsx)(z,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.135228f5.chunk.js.map